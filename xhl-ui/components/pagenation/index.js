import{ElMessage as e,ElPagination as a,ElConfigProvider as t}from"element-plus/es";import{toRefs as n,useAttrs as o,ref as r,openBlock as s,createBlock as l,unref as p,withCtx as u,renderSlot as i,createElementVNode as c,createVNode as g,mergeProps as m}from"vue";import{elnamespace as d}from"../../hooks/configElement.js";import f from"element-plus/dist/locale/zh-cn.mjs";import{s as h}from"../../style-inject.es-BnTDb6vU.js";const v={class:"page_right"};var z={__name:"index",props:{parameter:{default:null},pageSizes:{type:Array,default:()=>[10,20,50,100]},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"}},emits:["updateData","changeBefore"],setup(h,{expose:z,emit:y}){const S=h,{parameter:_}=n(S),x=y,j=o(),C=r(1),b=r(20),w=r(50);function D(e){e&&(C.value=e),B(p(C))}function k(e){console.log(e,"currentsize改变"),B(1)}async function B(a){x("changeBefore");const{methods:t,data:n}=p(_);t({pageSize:b.value,pageNo:a,...n}).then((a=>{if(1e4==a.code){if(a.data){const{list:e,total:t,pageNum:n,pageSize:o}=a.data;x("updateData",e),C.value=n,w.value=t}}else e.error(a.messageShow)})).catch((a=>{x("updateData",[]),console.error(a),e.error(a.messageShow)}))}return z({handleCurrentChange:D}),(e,n)=>{const o=a,r=t;return s(),l(r,{namespace:p(d),locale:p(f)},{default:u((()=>[i(e.$slots,"default"),c("div",v,[g(o,m({"current-page":C.value,"onUpdate:currentPage":n[0]||(n[0]=e=>C.value=e),"page-size":b.value,"onUpdate:pageSize":n[1]||(n[1]=e=>b.value=e),"page-sizes":S.pageSizes,background:!0,layout:S.layout,total:w.value},p(j),{onSizeChange:k,onCurrentChange:D}),null,16,["current-page","page-size","page-sizes","layout","total"])])])),_:3},8,["namespace","locale"])}}};h(".page_right[data-v-23b68fa9] {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 12px;\n}"),z.__scopeId="data-v-23b68fa9",z.__file="src/components/pagenation/index.vue",z.install=e=>{e.component("pagenation",z)};export{z as default};
